!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("GameOfLife",[],i):"object"==typeof exports?exports.GameOfLife=i():e.GameOfLife=i()}(self,(function(){return(()=>{"use strict";var e={519:(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GameOfLife=void 0;var t=o(886),r=function(){function e(e){this.frame=0,this.alivePopulation={},this.rows=e.rows,this.columns=e.columns,this.grid=this._createGrid(this.rows,this.columns)}return Object.defineProperty(e.prototype,"state",{get:function(){return this.grid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameCount",{get:function(){return this.frame},enumerable:!1,configurable:!0}),e.prototype.toggleCellAlive=function(e){var i=this._selectionToIndex(e),o=t.copyWithoutReference(this.grid.cells[i]),r=o.alive;o.alive=!r,r?delete this.alivePopulation[i]:this.alivePopulation[i]=o,this.grid.cells[i]=o},e.prototype.reset=function(){this.grid=this._createGrid(this.rows,this.columns),this.alivePopulation={}},e.prototype.randomise=function(){var e=this._createGrid(this.rows,this.columns),i=e.cells.length,o={};this.reset();for(var r=0;r<i;r++){var n=e.cells[r],l=Math.random()>.75;if(l){var s=t.copyWithoutReference(n);s.alive=l,e.cells[r]=s,o[r]=s}}this.grid=e,this.alivePopulation=o},e.prototype.seed=function(e){for(var i=this._createGrid(this.rows,this.columns),o={},r=0,n=e;r<n.length;r++){var l=n[r],s=this._selectionToIndex(l),c=t.copyWithoutReference(i.cells[s]);c.alive=!0,o[s]=c,i.cells[s]=c}this.grid=i,this.alivePopulation=o},e.prototype.resize=function(e){this.rows=e.rows,this.columns=e.columns,this.reset()},e.prototype.sequence=function(){for(var e=this._createGrid(this.rows,this.columns),i=Object.keys(this.alivePopulation).map(Number),o={},t=i.length-1;t>=0;t--)for(var r=i[t],n=this.alivePopulation[r],l=this._getNeighbours(n,e),s=l.length-1;s>=0;s--){var c=l[s];switch(c.aliveNeighbours++,c.aliveNeighbours){case 3:c.alive=!0,o[c.index]=c;break;case 2:var u=c.index in this.alivePopulation;u&&(c.alive=u,o[c.index]=c);break;default:c.alive=!1,delete o[c.index]}e.cells[c.index]=c}this.frame++,this.grid=e,this.alivePopulation=o},e.prototype._createGrid=function(e,i){for(var o=new Array(e*i),t=0;t<e;t++)for(var r=0;r<i;r++){var n=r+t*i;o[n]={index:n,column:r,row:t,alive:!1,aliveNeighbours:0}}return{rows:e,columns:i,cells:o}},e.prototype._getNeighbours=function(e,i){var o,t,r,n,l,s,c,u;return[(null===(o=i.cells[e.index-i.columns-1])||void 0===o?void 0:o.row)===e.row-1?i.cells[e.index-i.columns-1]:void 0,(null===(t=i.cells[e.index-i.columns])||void 0===t?void 0:t.row)===e.row-1?i.cells[e.index-i.columns]:void 0,(null===(r=i.cells[e.index-i.columns+1])||void 0===r?void 0:r.row)===e.row-1?i.cells[e.index-i.columns+1]:void 0,(null===(n=i.cells[e.index-1])||void 0===n?void 0:n.row)===e.row?i.cells[e.index-1]:void 0,(null===(l=i.cells[e.index+1])||void 0===l?void 0:l.row)===e.row?i.cells[e.index+1]:void 0,(null===(s=i.cells[e.index+i.columns-1])||void 0===s?void 0:s.row)===e.row+1?i.cells[e.index+i.columns-1]:void 0,(null===(c=i.cells[e.index+i.columns])||void 0===c?void 0:c.row)===e.row+1?i.cells[e.index+i.columns]:void 0,(null===(u=i.cells[e.index+i.columns+1])||void 0===u?void 0:u.row)===e.row+1?i.cells[e.index+i.columns+1]:void 0].filter((function(e){return e}))},e.prototype._selectionToIndex=function(e){return e.column+e.row*this.columns},e}();i.GameOfLife=r},886:(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.copyWithoutReference=void 0,i.copyWithoutReference=function(e){return JSON.parse(JSON.stringify(e))}},820:(e,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GameOfLife=void 0;var t=o(519);Object.defineProperty(i,"GameOfLife",{enumerable:!0,get:function(){return t.GameOfLife}})}},i={};return function o(t){if(i[t])return i[t].exports;var r=i[t]={exports:{}};return e[t](r,r.exports,o),r.exports}(820)})()}));